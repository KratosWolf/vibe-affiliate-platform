# PROMPT: ConfiguraÃ§Ã£o de RepositÃ³rio GitHub e EstratÃ©gia de Deploy

## ğŸ¯ OBJETIVO
Configurar um repositÃ³rio GitHub profissional com estratÃ©gia completa de deploy, incluindo CI/CD, branch protection, workflows automatizados, semantic versioning, documentaÃ§Ã£o e integraÃ§Ã£o com Vercel. Este prompt fornece uma metodologia completa para gerenciamento de cÃ³digo e deployments automatizados.

## ğŸš¨ VERIFICAÃ‡Ã•ES CRÃTICAS OBRIGATÃ“RIAS

### âš ï¸ ANTES de configurar o repositÃ³rio, execute estas verificaÃ§Ãµes:

```bash
# 1. Verificar Git e GitHub CLI
git --version
gh --version || echo "âŒ GitHub CLI nÃ£o instalado"

# 2. Verificar autenticaÃ§Ã£o GitHub
gh auth status

# 3. Verificar conta Vercel
vercel --version
vercel whoami

# 4. Verificar estrutura do projeto
ls -la
[ -f "package.json" ] || echo "âŒ package.json nÃ£o encontrado"
[ -f "next.config.js" ] || echo "âŒ next.config.js nÃ£o encontrado"

# 5. Verificar .env.example
[ -f ".env.example" ] || echo "âŒ .env.example recomendado"

# 6. Verificar dependÃªncias crÃ­ticas
npm list next react typescript
```

### ğŸ”§ CORREÃ‡Ã•ES CRÃTICAS DE CONFIGURAÃ‡ÃƒO:

#### 1. .gitignore Incompleto
**Problema**: Arquivos sensÃ­veis sendo commitados
**SoluÃ§Ã£o**: .gitignore completo e validado

```gitignore
# âŒ INCORRETO - .gitignore bÃ¡sico
node_modules/
.env

# âœ… CORRETO - .gitignore completo
# Dependencies
node_modules/
/.pnp
.pnp.js

# Testing
/coverage

# Next.js
/.next/
/out/

# Production
/build

# Misc
.DS_Store
*.log
.env*.local

# Debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Local env files
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# Vercel
.vercel

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
Thumbs.db
```

#### 2. ConfiguraÃ§Ã£o de Branch Protection Fraca
**Problema**: Branch main nÃ£o estÃ¡ protegida
**SoluÃ§Ã£o**: Configurar branch protection rules

```yaml
# âŒ INCORRETO - Sem proteÃ§Ã£o
# Pushes diretos para main permitidos

# âœ… CORRETO - Branch protection configurada
# Via GitHub Settings > Branches > Add rule
```

#### 3. Workflows CI/CD Inadequados
**Problema**: NÃ£o hÃ¡ validaÃ§Ã£o automatizada
**SoluÃ§Ã£o**: GitHub Actions configurados

```yaml
# âŒ INCORRETO - Sem CI/CD
# Deploys manuais sem validaÃ§Ã£o

# âœ… CORRETO - GitHub Actions
name: CI/CD Pipeline
on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]
```

#### 4. Semantic Versioning NÃ£o Implementado
**Problema**: VersÃµes nÃ£o seguem padrÃ£o
**SoluÃ§Ã£o**: Implementar semantic-release

```json
// âŒ INCORRETO - Versioning manual
{
  "version": "1.0.0"
}

// âœ… CORRETO - Semantic release
{
  "version": "0.0.0-development",
  "release": {
    "branches": ["main"],
    "plugins": [
      "@semantic-release/commit-analyzer",
      "@semantic-release/release-notes-generator",
      "@semantic-release/changelog",
      "@semantic-release/npm",
      "@semantic-release/github"
    ]
  }
}
```

## ğŸ“‹ PRÃ‰-REQUISITOS

### Ferramentas NecessÃ¡rias:
```bash
# Git e GitHub CLI
git --version
npm install -g @github/cli

# Vercel CLI
npm install -g vercel

# Ferramentas de desenvolvimento
npm install -g semantic-release
npm install -g commitizen
npm install -g conventional-changelog-cli
```

### Estrutura do RepositÃ³rio:
```
.
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ ci.yml              # CI/CD pipeline
â”‚   â”‚   â”œâ”€â”€ deploy.yml          # Deploy pipeline
â”‚   â”‚   â””â”€â”€ release.yml         # Release pipeline
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/
â”‚   â”‚   â”œâ”€â”€ bug_report.md       # Template para bugs
â”‚   â”‚   â””â”€â”€ feature_request.md  # Template para features
â”‚   â””â”€â”€ pull_request_template.md # Template para PRs
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ CONTRIBUTING.md         # Guia de contribuiÃ§Ã£o
â”‚   â”œâ”€â”€ DEPLOYMENT.md           # Guia de deploy
â”‚   â””â”€â”€ API.md                  # DocumentaÃ§Ã£o da API
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup.sh               # Script de setup
â”‚   â””â”€â”€ deploy.sh              # Script de deploy
â”œâ”€â”€ .gitignore                 # Arquivos ignorados
â”œâ”€â”€ .env.example               # Exemplo de variÃ¡veis
â”œâ”€â”€ README.md                  # DocumentaÃ§Ã£o principal
â”œâ”€â”€ CHANGELOG.md               # Changelog automÃ¡tico
â””â”€â”€ package.json               # ConfiguraÃ§Ã£o do projeto
```

## ğŸš€ CONFIGURAÃ‡ÃƒO COMPLETA DO REPOSITÃ“RIO

### 1. ConfiguraÃ§Ã£o Inicial do RepositÃ³rio

```bash
#!/bin/bash
# Script de configuraÃ§Ã£o inicial

# Criar repositÃ³rio GitHub
gh repo create my-nextjs-app --public --clone

# Navegar para o diretÃ³rio
cd my-nextjs-app

# Configurar Git
git config user.name "Seu Nome"
git config user.email "seu.email@exemplo.com"

# Criar estrutura inicial
mkdir -p .github/workflows
mkdir -p .github/ISSUE_TEMPLATE
mkdir -p docs scripts

# Configurar branches
git checkout -b develop
git push -u origin develop
git checkout main

# Configurar branch protection
gh api repos/:owner/:repo/branches/main/protection \
  --method PUT \
  --field required_status_checks='{"strict":true,"contexts":["ci"]}' \
  --field enforce_admins=true \
  --field required_pull_request_reviews='{"required_approving_review_count":1}' \
  --field restrictions=null
```

### 2. GitHub Actions - CI/CD Pipeline (.github/workflows/ci.yml):

```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    
    strategy:
      matrix:
        node-version: [18.x, 20.x]
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v4
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run type checking
      run: npm run type-check
    
    - name: Run linting
      run: npm run lint
    
    - name: Run tests
      run: npm run test:ci
    
    - name: Test build
      run: npm run build
    
    - name: Upload coverage reports
      uses: codecov/codecov-action@v3
      with:
        file: ./coverage/coverage-final.json
        flags: unittests
        name: codecov-umbrella

  security:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Run security audit
      run: npm audit --audit-level=high
    
    - name: Run CodeQL Analysis
      uses: github/codeql-action/analyze@v2
      with:
        languages: javascript

  deploy-staging:
    needs: [test, security]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Deploy to Vercel (Staging)
      uses: amondnet/vercel-action@v25
      with:
        vercel-token: ${{ secrets.VERCEL_TOKEN }}
        vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
        vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
        scope: ${{ secrets.VERCEL_ORG_ID }}
        alias-domains: staging.myapp.com

  deploy-production:
    needs: [test, security]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Deploy to Vercel (Production)
      uses: amondnet/vercel-action@v25
      with:
        vercel-token: ${{ secrets.VERCEL_TOKEN }}
        vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
        vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
        vercel-args: '--prod'
        scope: ${{ secrets.VERCEL_ORG_ID }}
        alias-domains: myapp.com
    
    - name: Notify deployment success
      uses: 8398a7/action-slack@v3
      if: success()
      with:
        status: success
        channel: '#deployments'
        webhook_url: ${{ secrets.SLACK_WEBHOOK }}
        message: 'Production deployment successful! ğŸš€'
```

### 3. Release Pipeline (.github/workflows/release.yml):

```yaml
name: Release Pipeline

on:
  push:
    branches: [main]

jobs:
  release:
    runs-on: ubuntu-latest
    if: "!contains(github.event.head_commit.message, 'skip ci')"
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      with:
        fetch-depth: 0
        token: ${{ secrets.GITHUB_TOKEN }}
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm run test:ci
    
    - name: Build project
      run: npm run build
    
    - name: Semantic Release
      uses: cycjimmy/semantic-release-action@v3
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
      with:
        semantic_version: 19
        extra_plugins: |
          @semantic-release/changelog
          @semantic-release/git
    
    - name: Create GitHub Release
      uses: actions/create-release@v1
      if: steps.semantic.outputs.new_release_published == 'true'
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        tag_name: ${{ steps.semantic.outputs.new_release_version }}
        release_name: Release ${{ steps.semantic.outputs.new_release_version }}
        body: ${{ steps.semantic.outputs.new_release_notes }}
        draft: false
        prerelease: false
```

### 4. ConfiguraÃ§Ã£o de Dependabot (.github/dependabot.yml):

```yaml
version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    reviewers:
      - "tech-lead"
    assignees:
      - "maintainer"
    commit-message:
      prefix: "chore"
      prefix-development: "chore"
      include: "scope"
    labels:
      - "dependencies"
      - "automated"
    
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
    reviewers:
      - "tech-lead"
    commit-message:
      prefix: "ci"
      include: "scope"
    labels:
      - "ci"
      - "automated"
```

### 5. Issue Templates (.github/ISSUE_TEMPLATE/bug_report.md):

```markdown
---
name: Bug Report
about: Create a report to help us improve
title: '[BUG] '
labels: bug
assignees: ''
---

## ğŸ› Bug Report

### Description
A clear and concise description of what the bug is.

### Steps to Reproduce
1. Go to '...'
2. Click on '...'
3. Scroll down to '...'
4. See error

### Expected Behavior
A clear and concise description of what you expected to happen.

### Actual Behavior
A clear and concise description of what actually happened.

### Screenshots
If applicable, add screenshots to help explain your problem.

### Environment
- **OS**: [e.g. macOS, Windows, Linux]
- **Browser**: [e.g. Chrome, Firefox, Safari]
- **Version**: [e.g. 22]
- **Device**: [e.g. iPhone X, Desktop]

### Additional Context
Add any other context about the problem here.

### Possible Solution
If you have suggestions on how to fix the bug, please describe them here.
```

### 6. Pull Request Template (.github/pull_request_template.md):

```markdown
## ğŸ“‹ Pull Request

### Description
Brief description of what this PR does.

### Type of Change
- [ ] Bug fix (non-breaking change that fixes an issue)
- [ ] New feature (non-breaking change that adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Performance improvement
- [ ] Code refactoring

### Related Issues
Closes #[issue number]

### Changes Made
- [ ] Change 1
- [ ] Change 2
- [ ] Change 3

### Testing
- [ ] Unit tests added/updated
- [ ] Integration tests added/updated
- [ ] E2E tests added/updated
- [ ] Manual testing completed

### Screenshots (if applicable)
Add screenshots here to help explain your changes.

### Checklist
- [ ] My code follows the project's style guidelines
- [ ] I have performed a self-review of my own code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [ ] I have made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my feature works
- [ ] New and existing unit tests pass locally with my changes
- [ ] Any dependent changes have been merged and published

### Deployment Notes
Any special notes for deployment.
```

### 7. README.md Completo:

```markdown
# ğŸš€ My Next.js App

[![CI/CD Pipeline](https://github.com/username/my-nextjs-app/actions/workflows/ci.yml/badge.svg)](https://github.com/username/my-nextjs-app/actions/workflows/ci.yml)
[![codecov](https://codecov.io/gh/username/my-nextjs-app/branch/main/graph/badge.svg)](https://codecov.io/gh/username/my-nextjs-app)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A modern, production-ready Next.js application with TypeScript, Tailwind CSS, and comprehensive DevOps setup.

## ğŸ“‹ Table of Contents

- [Features](#features)
- [Tech Stack](#tech-stack)
- [Getting Started](#getting-started)
- [Development](#development)
- [Testing](#testing)
- [Deployment](#deployment)
- [Contributing](#contributing)
- [License](#license)

## âœ¨ Features

- âš¡ **Next.js 14** with App Router
- ğŸ”· **TypeScript** for type safety
- ğŸ¨ **Tailwind CSS** for styling
- ğŸ” **Stack Auth** for authentication
- ğŸ“Š **Neon Database** for data storage
- ğŸš€ **Vercel** for deployment
- ğŸ§ª **Jest & Testing Library** for testing
- ğŸ“± **Responsive Design** mobile-first
- ğŸ” **SEO Optimized** with meta tags
- ğŸ“ˆ **Analytics** with Vercel Analytics
- ğŸ›¡ï¸ **Security** with security headers
- ğŸ”„ **CI/CD** with GitHub Actions

## ğŸ› ï¸ Tech Stack

### Frontend
- **Framework**: Next.js 14
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: Shadcn/ui
- **Icons**: Heroicons
- **Fonts**: Inter

### Backend
- **Runtime**: Node.js
- **Database**: PostgreSQL (Neon)
- **Authentication**: Stack Auth
- **ORM**: Native SQL with Neon SDK
- **Validation**: Zod

### DevOps
- **Deployment**: Vercel
- **CI/CD**: GitHub Actions
- **Monitoring**: Vercel Analytics
- **Error Tracking**: Sentry
- **Testing**: Jest, Testing Library, Playwright

## ğŸš€ Getting Started

### Prerequisites
- Node.js 18.0 or later
- npm or yarn
- Git

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/username/my-nextjs-app.git
   cd my-nextjs-app
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   ```bash
   cp .env.example .env.local
   ```
   
   Edit `.env.local` with your configuration:
   ```env
   DATABASE_URL=your_neon_database_url
   NEXTAUTH_SECRET=your_nextauth_secret
   NEXTAUTH_URL=http://localhost:3000
   ```

4. **Set up the database**
   ```bash
   npm run db:migrate
   npm run db:seed
   ```

5. **Start the development server**
   ```bash
   npm run dev
   ```

6. **Open your browser**
   Navigate to [http://localhost:3000](http://localhost:3000)

## ğŸ’» Development

### Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run start` - Start production server
- `npm run lint` - Run ESLint
- `npm run lint:fix` - Fix ESLint issues
- `npm run type-check` - Run TypeScript compiler
- `npm run test` - Run tests
- `npm run test:watch` - Run tests in watch mode
- `npm run test:coverage` - Run tests with coverage
- `npm run db:migrate` - Run database migrations
- `npm run db:seed` - Seed database with sample data

### Code Style

This project uses:
- **ESLint** for code linting
- **Prettier** for code formatting
- **Husky** for Git hooks
- **lint-staged** for staged files linting

### Git Workflow

1. **Create a feature branch**
   ```bash
   git checkout -b feature/amazing-feature
   ```

2. **Make your changes**
   ```bash
   git add .
   git commit -m "feat: add amazing feature"
   ```

3. **Push to the branch**
   ```bash
   git push origin feature/amazing-feature
   ```

4. **Open a Pull Request**

### Commit Convention

This project follows [Conventional Commits](https://conventionalcommits.org/):

- `feat:` - New feature
- `fix:` - Bug fix
- `docs:` - Documentation changes
- `style:` - Code style changes
- `refactor:` - Code refactoring
- `test:` - Testing changes
- `chore:` - Build process or auxiliary tool changes

## ğŸ§ª Testing

### Running Tests

```bash
# Run all tests
npm run test

# Run tests in watch mode
npm run test:watch

# Run tests with coverage
npm run test:coverage

# Run E2E tests
npm run test:e2e
```

### Test Structure

```
tests/
â”œâ”€â”€ __mocks__/          # Mock files
â”œâ”€â”€ components/         # Component tests
â”œâ”€â”€ pages/              # Page tests
â”œâ”€â”€ utils/              # Utility tests
â”œâ”€â”€ e2e/                # End-to-end tests
â””â”€â”€ setup.ts            # Test setup
```

## ğŸš€ Deployment

### Automatic Deployment

The project automatically deploys to Vercel when:
- **Staging**: Push to `develop` branch
- **Production**: Push to `main` branch

### Manual Deployment

```bash
# Deploy to Vercel
vercel --prod

# Deploy to staging
vercel
```

### Environment Variables

Make sure to configure these environment variables in Vercel:

```env
DATABASE_URL=your_production_database_url
NEXTAUTH_SECRET=your_production_secret
NEXTAUTH_URL=https://your-domain.vercel.app
```

## ğŸ“š Documentation

- [API Documentation](docs/API.md)
- [Deployment Guide](docs/DEPLOYMENT.md)
- [Contributing Guide](docs/CONTRIBUTING.md)
- [Architecture Overview](docs/ARCHITECTURE.md)

## ğŸ¤ Contributing

Contributions are welcome! Please read our [Contributing Guide](docs/CONTRIBUTING.md) for details on our code of conduct and the process for submitting pull requests.

### Development Setup

1. Fork the repository
2. Create your feature branch
3. Make your changes
4. Add tests for your changes
5. Run the test suite
6. Submit a pull request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- [Next.js](https://nextjs.org/) for the amazing framework
- [Vercel](https://vercel.com/) for hosting and deployment
- [Tailwind CSS](https://tailwindcss.com/) for styling
- [Shadcn/ui](https://ui.shadcn.com/) for UI components

## ğŸ“ Support

If you have any questions or need help, please:
- Open an issue on GitHub
- Join our Discord community
- Email us at support@example.com

---

Made with â¤ï¸ by [Your Name](https://github.com/username)
```

### 8. Package.json Configurado:

```json
{
  "name": "my-nextjs-app",
  "version": "0.0.0-development",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "type-check": "tsc --noEmit",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:ci": "jest --ci --coverage --watchAll=false",
    "test:e2e": "playwright test",
    "prepare": "husky install",
    "semantic-release": "semantic-release"
  },
  "dependencies": {
    "next": "14.0.0",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "typescript": "5.0.0",
    "@neondatabase/serverless": "latest",
    "@stackframe/stack": "latest"
  },
  "devDependencies": {
    "@types/node": "20.0.0",
    "@types/react": "18.2.0",
    "@types/react-dom": "18.2.0",
    "@typescript-eslint/eslint-plugin": "6.0.0",
    "@typescript-eslint/parser": "6.0.0",
    "eslint": "8.0.0",
    "eslint-config-next": "14.0.0",
    "jest": "29.0.0",
    "jest-environment-jsdom": "29.0.0",
    "@testing-library/react": "14.0.0",
    "@testing-library/jest-dom": "6.0.0",
    "playwright": "1.40.0",
    "husky": "8.0.0",
    "lint-staged": "15.0.0",
    "prettier": "3.0.0",
    "semantic-release": "22.0.0",
    "@semantic-release/changelog": "6.0.0",
    "@semantic-release/git": "10.0.0"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,md}": [
      "prettier --write"
    ]
  },
  "release": {
    "branches": ["main"],
    "plugins": [
      "@semantic-release/commit-analyzer",
      "@semantic-release/release-notes-generator",
      "@semantic-release/changelog",
      "@semantic-release/npm",
      "@semantic-release/github",
      [
        "@semantic-release/git",
        {
          "assets": ["CHANGELOG.md", "package.json"],
          "message": "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
        }
      ]
    ]
  }
}
```

## âš™ï¸ CONFIGURAÃ‡Ã•ES AVANÃ‡ADAS

### 1. ConfiguraÃ§Ã£o de Secrets GitHub:

```bash
# Configurar secrets via GitHub CLI
gh secret set VERCEL_TOKEN --body="your_vercel_token"
gh secret set VERCEL_ORG_ID --body="your_org_id"
gh secret set VERCEL_PROJECT_ID --body="your_project_id"
gh secret set SLACK_WEBHOOK --body="your_slack_webhook"
gh secret set DATABASE_URL --body="your_database_url"
```

### 2. ConfiguraÃ§Ã£o de Notifications:

```yaml
# .github/workflows/notifications.yml
name: Notifications

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
    - name: Notify Discord
      uses: sarisia/actions-status-discord@v1
      if: always()
      with:
        webhook: ${{ secrets.DISCORD_WEBHOOK }}
        status: ${{ job.status }}
        title: "Deployment Status"
        description: "Build and deployment finished"
```

### 3. Script de Setup Automatizado:

```bash
#!/bin/bash
# scripts/setup.sh

set -e

echo "ğŸš€ Setting up development environment..."

# Verificar Node.js
if ! command -v node &> /dev/null; then
    echo "âŒ Node.js is required but not installed."
    exit 1
fi

# Verificar npm
if ! command -v npm &> /dev/null; then
    echo "âŒ npm is required but not installed."
    exit 1
fi

# Instalar dependÃªncias
echo "ğŸ“¦ Installing dependencies..."
npm ci

# Configurar environment variables
if [ ! -f ".env.local" ]; then
    echo "ğŸ“ Creating .env.local from template..."
    cp .env.example .env.local
    echo "âš ï¸  Please update .env.local with your configuration"
fi

# Configurar Husky
echo "ğŸª Setting up Git hooks..."
npm run prepare

# Verificar build
echo "ğŸ”¨ Testing build..."
npm run build

# Executar testes
echo "ğŸ§ª Running tests..."
npm run test:ci

echo "âœ… Setup completed successfully!"
echo "ğŸ‰ Run 'npm run dev' to start development server"
```

## ğŸ› ï¸ TROUBLESHOOTING

### Problema 1: Actions falham no build
**Causa**: VariÃ¡veis de ambiente nÃ£o configuradas
**SoluÃ§Ã£o**: Verificar secrets no GitHub e .env.example

### Problema 2: Deploy falha na Vercel
**Causa**: ConfiguraÃ§Ã£o incorreta do vercel.json
**SoluÃ§Ã£o**: Verificar configuraÃ§Ã£o e variÃ¡veis de ambiente

### Problema 3: Testes falham no CI
**Causa**: DependÃªncias ou configuraÃ§Ã£o incorreta
**SoluÃ§Ã£o**: Verificar jest.config.js e package.json

### Problema 4: Semantic release nÃ£o funciona
**Causa**: Commits nÃ£o seguem conventional commits
**SoluÃ§Ã£o**: Configurar commitizen e validar formato

## âœ… CHECKLIST FINAL DO REPOSITÃ“RIO

### VerificaÃ§Ãµes ObrigatÃ³rias:
- [ ] **RepositÃ³rio**: GitHub repo criado e configurado
- [ ] **Branches**: Main e develop configurados
- [ ] **Protection**: Branch protection rules aplicadas
- [ ] **Actions**: CI/CD workflows funcionando
- [ ] **Secrets**: VariÃ¡veis de ambiente configuradas
- [ ] **Templates**: Issue e PR templates criados
- [ ] **Documentation**: README.md completo
- [ ] **Releases**: Semantic release configurado
- [ ] **Dependabot**: DependÃªncias atualizadas automaticamente
- [ ] **Notifications**: Alertas configurados
- [ ] **Testing**: Testes passando no CI
- [ ] **Deploy**: Deploy automatizado funcionando

### ValidaÃ§Ã£o Final:
```bash
# Verificar configuraÃ§Ã£o
gh repo view
gh api repos/:owner/:repo/branches/main/protection

# Testar workflow
git push origin main

# Verificar deploy
vercel ls

# Verificar dependÃªncias
npm audit
```

## ğŸ‰ CONCLUSÃƒO

Este prompt implementa uma configuraÃ§Ã£o completa de repositÃ³rio GitHub com estratÃ©gia de deploy profissional, incluindo:
- âœ… **CI/CD pipeline** automatizado
- âœ… **Branch protection** e code review
- âœ… **Semantic versioning** automatizado
- âœ… **Deploy automatizado** para Vercel
- âœ… **Monitoramento** e notificaÃ§Ãµes
- âœ… **DocumentaÃ§Ã£o** completa
- âœ… **Templates** padronizados
- âœ… **SeguranÃ§a** e best practices

**Mantenha sempre as configuraÃ§Ãµes atualizadas e monitore os workflows regularmente!** 